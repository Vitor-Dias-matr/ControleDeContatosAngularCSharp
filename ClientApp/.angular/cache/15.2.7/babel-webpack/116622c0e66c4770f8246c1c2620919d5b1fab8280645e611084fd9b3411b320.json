{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeContatoComponent = class HomeContatoComponent {\n  constructor(usuarioService, contatoService, modalService, alertService) {\n    this.usuarioService = usuarioService;\n    this.contatoService = contatoService;\n    this.modalService = modalService;\n    this.alertService = alertService;\n    this.usuarios = [];\n    this.contatos = [];\n  }\n  ngOnInit() {\n    this.atualizarListaContatos();\n  }\n  atualizarListaContatos() {\n    this.contatoService.BuscarTodos().subscribe(response => {\n      this.contatos = response.data;\n      for (let contato of this.contatos) {\n        this.usuarioService.BuscarPorId(contato.usuarioId).subscribe(response => {\n          contato.usuario = response.data;\n        });\n      }\n    });\n  }\n  //apagarConfirmacao(apagar: boolean) {\n  //  this.ac = apagar;\n  //}\n  apagar(id, nome) {\n    this.modalService.add(`Você realmente deseja apagar ${nome}?`);\n    if (this.ac) {\n      this.contatoService.Apagar(id).subscribe(response => {\n        if (response.data) {\n          this.atualizarListaContatos();\n          this.alertService.addSucesso(`${nome} apagado com sucesso!`);\n        }\n      });\n    }\n    this.modalService.fecharModal();\n  }\n};\nHomeContatoComponent = __decorate([Component({\n  selector: 'app-home-contato',\n  templateUrl: './home-contato.component.html',\n  styleUrls: ['./home-contato.component.css']\n})], HomeContatoComponent);\nexport { HomeContatoComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAe1C,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAK/BC,YACUC,cAAqC,EACrCC,cAAqC,EACrCC,YAA0B,EAC1BC,YAA0B;IAH1B,mBAAc,GAAdH,cAAc;IACd,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IACZ,iBAAY,GAAZC,YAAY;IARtB,aAAQ,GAAc,EAAE;IACxB,aAAQ,GAAc,EAAE;EAQpB;EAEJC,QAAQ;IACN,IAAI,CAACC,sBAAsB,EAAE;EAC/B;EAEQA,sBAAsB;IAC5B,IAAI,CAACJ,cAAc,CAACK,WAAW,EAAE,CAACC,SAAS,CAACC,QAAQ,IAAG;MACrD,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACE,IAAI;MAE7B,KAAK,IAAIC,OAAO,IAAI,IAAI,CAACF,QAAQ,EAAE;QACjC,IAAI,CAACT,cAAc,CAACY,WAAW,CAACD,OAAO,CAACE,SAAS,CAAC,CAACN,SAAS,CAACC,QAAQ,IAAG;UACtEG,OAAO,CAACG,OAAO,GAAGN,QAAQ,CAACE,IAAI;QACjC,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EAEAK,MAAM,CAACC,EAAU,EAAEC,IAAY;IAC7B,IAAI,CAACf,YAAY,CAACgB,GAAG,CAAC,gCAAgCD,IAAI,GAAG,CAAC;IAE9D,IAAI,IAAI,CAACE,EAAE,EAAE;MACX,IAAI,CAAClB,cAAc,CAACmB,MAAM,CAACJ,EAAE,CAAC,CAACT,SAAS,CAACC,QAAQ,IAAG;QAClD,IAAIA,QAAQ,CAACE,IAAI,EAAE;UACjB,IAAI,CAACL,sBAAsB,EAAE;UAC7B,IAAI,CAACF,YAAY,CAACkB,UAAU,CAAC,GAAGJ,IAAI,uBAAuB,CAAC;;MAEhE,CAAC,CAAC;;IAGJ,IAAI,CAACf,YAAY,CAACoB,WAAW,EAAE;EACjC;CACD;AA9CYxB,oBAAoB,eALhCD,SAAS,CAAC;EACT0B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW3B,oBAAoB,CA8ChC;SA9CYA,oBAAoB","names":["Component","HomeContatoComponent","constructor","usuarioService","contatoService","modalService","alertService","ngOnInit","atualizarListaContatos","BuscarTodos","subscribe","response","contatos","data","contato","BuscarPorId","usuarioId","usuario","apagar","id","nome","add","ac","Apagar","addSucesso","fecharModal","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\Workspaces\\AngularCSharp\\ControleDeContatosAngularCSharp\\ClientApp\\src\\app\\components\\pages\\contato\\home-contato\\home-contato.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { UsuarioServiceService } from '../../../../Services/Usuario/usuario-service.service';\nimport { ContatoServiceService } from 'src/app/Services/Contato/contato-service.service';\n\nimport { Usuario } from '../../../../Models/Usuario';\nimport { Contato } from 'src/app/Models/Contato';\nimport { ModalService } from '../../../../Services/Menssagens/Modal/modal.service';\r\nimport { AlertService } from '../../../../Services/Menssagens/Alert/alert.service';\r\n\n@Component({\n  selector: 'app-home-contato',\n  templateUrl: './home-contato.component.html',\n  styleUrls: ['./home-contato.component.css']\n})\nexport class HomeContatoComponent implements OnInit {\n  usuarios: Usuario[] = [];\n  contatos: Contato[] = [];\n  ac!: boolean;\n\n  constructor(\n    private usuarioService: UsuarioServiceService,\n    private contatoService: ContatoServiceService,\n    private modalService: ModalService,\n    private alertService: AlertService,\n  ) { }\n\n  ngOnInit(): void {\n    this.atualizarListaContatos();\n  }\n\n  private atualizarListaContatos() {\n    this.contatoService.BuscarTodos().subscribe(response => {\n      this.contatos = response.data;\n\r\n      for (let contato of this.contatos) {\r\n        this.usuarioService.BuscarPorId(contato.usuarioId).subscribe(response => {\n          contato.usuario = response.data;\n        });\n      }\n    });\n  }\n\n  //apagarConfirmacao(apagar: boolean) {\n  //  this.ac = apagar;\n  //}\n\n  apagar(id: number, nome: string) {\n    this.modalService.add(`Você realmente deseja apagar ${nome}?`);\n\n    if (this.ac) {\r\n      this.contatoService.Apagar(id).subscribe(response => {\n        if (response.data) {\n          this.atualizarListaContatos();\n          this.alertService.addSucesso(`${nome} apagado com sucesso!`);\n        }\n      });\r\n    }\n\n    this.modalService.fecharModal();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}